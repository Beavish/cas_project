
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico">

    <title>Memberships</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/checkout/">

    <!-- Bootstrap core CSS -->
    <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="form-validation.css" rel="stylesheet">
  </head>

  <body class="bg-light">

    <div class="container">
      <div class="py-5 text-center">
        <img class="d-block mx-auto mb-4" src="/assets/blueFootball.png" alt="" width="90" height="90">
        <h2>Membership form</h2>
        <p class="lead">Curabitur iaculis non sapien vel pharetra. Donec in maximus augue, a porttitor lectus. Pellentesque maximus tempus nulla, sed sodales erat suscipit in. Proin facilisis ipsum quis lorem vestibulum volutpat. Maecenas lacinia quam elit, in rhoncus massa dignissim vitae. Aliquam sed tortor id mi aliquet pretium. Duis vulputate magna sit amet libero imperdiet varius. Suspendisse sit amet neque eget dolor imperdiet dictum ut sed nisl. Mauris eget fermentum velit, at tristique arcu. Nulla ac suscipit nisl, eget pharetra turpis. Donec odio nisi, varius vitae orci et, semper sodales odio. Curabitur in tortor non turpis ultricies tincidunt. Sed fermentum felis nec nisi tempor, sit amet porta turpis faucibus. Sed ultricies urna eu metus facilisis consectetur. Vestibulum tellus nisi, convallis non tincidunt quis, consectetur at turpis. Morbi ultricies dignissim mi tempus tincidunt.
<p class="lead">
Suspendisse mollis turpis consectetur, dignissim odio vel, eleifend lacus. Proin convallis porta risus vel finibus. Etiam vestibulum est at tincidunt eleifend. Sed ut dictum est. Aliquam id est vel ex blandit posuere eget in libero. Curabitur finibus, quam eu malesuada tempus, enim lacus lacinia magna, at posuere risus turpis sit amet leo. Nam libero sapien, consequat eu gravida et, vulputate eu sem. Vivamus molestie tellus mollis nibh pellentesque sodales. Nullam sed euismod lacus, sit amet pretium mi. Nulla et lacus et mauris posuere scelerisque. Praesent porta arcu pulvinar fringilla tempor. Mauris cursus convallis ante,  Sed hendrerit justo a eros placerat, eget suscipit nunc dictum.</p>
      </div>
 
        <div class="w3-content">
          <h4 class="mb-3">Billing address</h4>
          <form class="needs-validation" novalidate>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="firstName">First name</label>
                <input type="text" class="form-control" id="firstName" placeholder="" value="" required>
                <div class="invalid-feedback">
                  Valid first name is required.
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="lastName">Last name</label>
                <input type="text" class="form-control" id="lastName" placeholder="" value="" required>
                <div class="invalid-feedback">
                  Valid last name is required.
                </div>
              </div>
            </div>

       

            <div class="mb-3">
              <label for="email">Email <span class="text-muted" ></span></label>
              <input type="email" class="form-control" id="email" placeholder="you@example.com" required>
              <div class="invalid-feedback">
                Please enter a valid email address for shipping updates.
              </div>
            </div>

            <div class="mb-3">
              <label for="address">Address</label>
              <input type="text" class="form-control" id="address" placeholder="1234 Main St" required>
              <div class="invalid-feedback">
                Please enter your shipping address.
              </div>
            </div>

            <div class="mb-3">
              <label for="address2">Address 2 <span class="text-muted">(Optional)</span></label>
              <input type="text" class="form-control" id="address2" placeholder="Apartment or suite">
            </div>
               </form>
        
           

            <h4 class="mb-3">Payment</h4>
      <%= form_tag("/checkouts", method: "post", id: "payment-form") do %>
        <section>
          <div class="bt-drop-in-wrapper">
            <div id="bt-dropin">
            </div>
          </div>
        </section>

        <input type="hidden" id="nonce" name="payment_method_nonce" />
        <button class="btn btn-primary btn-lg btn-block" type="submit"><span>Subscribe</span></button>
      <% end %>
         
        </div>
      </div>

      <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">&copy; 2017-2018 Company Name</p>
        <ul class="list-inline">
          <li class="list-inline-item"><a href="#">Privacy</a></li>
          <li class="list-inline-item"><a href="#">Terms</a></li>
          <li class="list-inline-item"><a href="#">Support</a></li>
        </ul>
      </footer>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="../../assets/js/vendor/popper.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/vendor/holder.min.js"></script>
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (function() {
        'use strict';

        window.addEventListener('load', function() {
          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.getElementsByClassName('needs-validation');

          // Loop over them and prevent submission
          var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            }, false);
          });
        }, false);
      })();
    </script>


<script src="https://js.braintreegateway.com/web/dropin/1.20.4/js/dropin.min.js"></script>
<script>
  var form = document.querySelector('#payment-form');
  var ctoken = "<%= @ctoken %>";
  var threeDSecureParameters = {
  amount: '10.00',
  email: 'test@example.com',
  billingAddress: {
    givenName: 'Jill', // ASCII-printable characters required, else will throw a validation error
    surname: 'Doe', // ASCII-printable characters required, else will throw a validation error
    phoneNumber: '8101234567',
    streetAddress: '555 Smith St.',
    extendedAddress: '#5',
    locality: 'Oakland',
    region: 'CA',
    postalCode: '12345',
    countryCodeAlpha2: 'US'
  },
  additionalInformation: {
    workPhoneNumber: '8101234567',
    shippingGivenName: 'Jill',
    shippingSurname: 'Doe',
    shippingPhone: '8101234567',
    shippingAddress: {
      streetAddress: '555 Smith St.',
      extendedAddress: '#5',
      locality: 'Oakland',
      region: 'CA',
      postalCode: '12345',
      countryCodeAlpha2: 'US'
    }
  },
};

  braintree.dropin.create({
    authorization: ctoken,
    container: '#bt-dropin',
    threeDSecure: true,
   
  }, function (createErr, instance) {
    form.addEventListener('submit', function (event) {
      event.preventDefault();

      instance.requestPaymentMethod({
        threeDSecure: threeDSecureParameters
      },function (err, payload) {
        if (err) {
          console.log('Error', err);
          return;
        }

        // Add the nonce to the form and submit
        document.querySelector('#nonce').value = payload.nonce;
        form.submit();
      });
    });
  });
</script>

  </body>
</html>